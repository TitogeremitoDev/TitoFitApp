/**
 * ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
 * üèÜ SISTEMA DE LOGROS ESTILO STEAM - TOTALGAINS (FIXED VERSION)
 * ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
 * * Econom√≠a reparada: Los puntos ahora son din√°micos y escalan correctamente.
 * Se han corregido inconsistencias temporales (e.g., 1M pasos ya no es un logro de "un d√≠a").
 */

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 1. CATEGOR√çAS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

export const ACHIEVEMENT_CATEGORIES = {
    volumen: { name: 'Volumen', emoji: 'üí™', color: '#8b5cf6' },
    constancia: { name: 'Constancia', emoji: 'üìÜ', color: '#10b981' },
    intensidad: { name: 'Intensidad', emoji: 'üî•', color: '#ef4444' },
    habitos: { name: 'H√°bitos', emoji: 'üéØ', color: '#3b82f6' },
    mentalidad: { name: 'Mentalidad', emoji: 'üß†', color: '#f59e0b' },
    social: { name: 'Social', emoji: 'üë•', color: '#ec4899' },
    pasos: { name: 'Pasos', emoji: 'ü¶∂', color: '#06b6d4' },
    checkin: { name: 'Check-in', emoji: 'üìã', color: '#84cc16' },
    sueno: { name: 'Sue√±o', emoji: 'üò¥', color: '#6366f1' },
    animo: { name: '√Ånimo', emoji: 'üòä', color: '#f97316' },
    energia: { name: 'Energ√≠a', emoji: '‚ö°', color: '#eab308' },
    nutricion: { name: 'Nutrici√≥n', emoji: 'üçΩÔ∏è', color: '#22c55e' },
    peso: { name: 'Peso', emoji: '‚öñÔ∏è', color: '#a855f7' },
    reflexion: { name: 'Reflexi√≥n', emoji: 'üí≠', color: '#14b8a6' },
    combos: { name: 'Combos', emoji: 'üß©', color: '#e11d48' },
    easter_egg: { name: 'Secretos', emoji: 'ü•ö', color: '#6b7280' },
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 2. SISTEMA DE PUNTOS DIN√ÅMICO (ECONOM√çA 2.0)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

export const HORIZON_MULTIPLIERS = {
    SESSION: 2,     // Sucede en un instante / sesi√≥n
    DAY: 5,         // Requiere completar el d√≠a
    WEEK: 10,       // Constancia de 7 d√≠as
    MONTH: 25,      // ~30 d√≠as
    BLOCK: 50,      // 3-4 meses / Trimestre
    YEAR: 100,      // 365 d√≠as
    LIFETIME: 150   // Acumulado hist√≥rico (m√°x 750 pts)
};

/**
 * Calcula los puntos autom√°ticamente.
 * Dificultad: 1 (F√°cil) a 5 (Leyenda)
 */
export const calculatePoints = (horizon, difficulty) => {
    return (HORIZON_MULTIPLIERS[horizon] || 0) * difficulty;
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 3. DEFINICI√ìN DE LOGROS (RAW)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// Nota: Ya no ponemos 'points' manualmente. Se inyectan al final.

const ACHIEVEMENTS_RAW = [
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üìä VOLUMEN
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'canijo',
        horizon: 'WEEK', // Corregido: 1000 reps se hacen r√°pido
        difficulty: 1,
        name: 'Canijo',
        description: 'Has conseguido tus primeras 1.000 repeticiones acumuladas.',
        emoji: 'üßí',
        category: 'volumen',
        targetValue: 1000,
        progressKey: 'accumulatedReps',
        unlockCondition: (stats) => stats.accumulatedReps >= 1000,
    },
    {
        id: 'no_tan_canijo',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Ya no tan canijo',
        description: 'Has llegado a 5.000 repeticiones acumuladas.',
        emoji: 'üòè',
        category: 'volumen',
        targetValue: 5000,
        progressKey: 'accumulatedReps',
        unlockCondition: (stats) => stats.accumulatedReps >= 5000,
    },
    {
        id: 'reps_machine',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'M√°quina de reps',
        description: 'Has llegado a 10.000 repeticiones acumuladas.',
        emoji: '‚öôÔ∏è',
        category: 'volumen',
        targetValue: 10000,
        progressKey: 'accumulatedReps',
        unlockCondition: (stats) => stats.accumulatedReps >= 10000,
    },
    {
        id: 'reps_legend',
        horizon: 'LIFETIME', // 50k reps es mucho
        difficulty: 3,
        name: 'Leyenda de las reps',
        description: 'Has llegado a 50.000 repeticiones acumuladas.',
        emoji: 'üèõÔ∏è',
        category: 'volumen',
        targetValue: 50000,
        progressKey: 'accumulatedReps',
        unlockCondition: (stats) => stats.accumulatedReps >= 50000,
    },
    {
        id: 'tonelada_uno',
        horizon: 'SESSION',
        difficulty: 1,
        name: 'Primera tonelada',
        description: 'Has levantado 1.000 kg de volumen total en un solo entreno.',
        emoji: 'üèãÔ∏è',
        category: 'volumen',
        targetValue: 1000,
        progressKey: 'sessionVolumeKg',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.sessionVolumeKg >= 1000,
    },
    {
        id: 'tonelada_cinco',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Cinco toneladas',
        description: 'Has levantado 5.000 kg de volumen total en un solo entreno.',
        emoji: 'üõ†Ô∏è',
        category: 'volumen',
        targetValue: 5000,
        progressKey: 'sessionVolumeKg',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.sessionVolumeKg >= 5000,
    },
    {
        id: 'tonelada_diez',
        horizon: 'SESSION',
        difficulty: 3,
        name: 'Diez toneladas',
        description: 'Has levantado 10.000 kg de volumen total en un solo entreno.',
        emoji: 'üí£',
        category: 'volumen',
        targetValue: 10000,
        progressKey: 'sessionVolumeKg',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.sessionVolumeKg >= 10000,
    },
    {
        id: 'despegue',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Despegue',
        description: '50.000 kg acumulados (potencia de despegue).',
        emoji: 'üöÄ',
        category: 'volumen',
        targetValue: 50000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 50000,
    },
    {
        id: 'ultra_volumen_semana',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Semana monstruo',
        description: 'Has superado tu volumen medio semanal en +30%.',
        emoji: 'üßü',
        category: 'volumen',
        unlockCondition: (stats) => stats.weeklyVolumeIncrease >= 30,
    },
    {
        id: 'ultra_volumen_mes',
        horizon: 'MONTH',
        difficulty: 4,
        name: 'Mes monstruo',
        description: 'Has superado tu volumen medio mensual en +30%.',
        emoji: 'üëπ',
        category: 'volumen',
        unlockCondition: (stats) => stats.monthlyVolumeIncrease >= 30,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üìÜ CONSTANCIA
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'day_one_war',
        horizon: 'SESSION',
        difficulty: 1,
        name: 'D√≠a 1 de guerra',
        description: 'Completas tu primer entreno registrado.',
        emoji: 'üó°Ô∏è',
        category: 'constancia',
        targetValue: 1,
        progressKey: 'totalWorkouts',
        unlockCondition: (stats) => stats.totalWorkouts >= 1,
    },
    {
        id: 'three_in_a_row',
        horizon: 'WEEK',
        difficulty: 1,
        name: 'No es casualidad',
        description: 'Entrenas 3 d√≠as seguidos.',
        emoji: 'üìÜ',
        category: 'constancia',
        unlockCondition: (stats) => stats.currentStreak >= 3,
    },
    {
        id: 'week_streak',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Semana blindada',
        description: 'Entrenas 4+ d√≠as en 7 d√≠as.',
        emoji: 'üß±',
        category: 'constancia',
        targetValue: 4,
        progressKey: 'workoutsThisWeek',
        unlockCondition: (stats) => stats.workoutsThisWeek >= 4,
    },
    {
        id: 'two_weeks_streak',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Dos semanas en modo bestia',
        description: 'Mantienes 2 semanas cumpliendo tu objetivo m√≠nimo de entrenos.',
        emoji: 'üêó',
        category: 'constancia',
        unlockCondition: (stats) => stats.weeksOnTarget >= 2,
    },
    {
        id: 'month_streak',
        horizon: 'MONTH', // FIXED: Era BLOCK
        difficulty: 3,
        name: 'Mes sin excusas',
        description: 'Mantienes tu frecuencia m√≠nima de entreno durante 30 d√≠as.',
        emoji: 'üìÖ',
        category: 'constancia',
        targetValue: 30,
        progressKey: 'daysOnTarget',
        unlockCondition: (stats) => stats.daysOnTarget >= 30,
    },
    {
        id: 'quarter_streak',
        horizon: 'BLOCK',
        difficulty: 4,
        name: 'Trimestre de guerra',
        description: 'Mantienes la frecuencia durante 90 d√≠as.',
        emoji: 'üõ°Ô∏è',
        category: 'constancia',
        targetValue: 90,
        progressKey: 'daysOnTarget',
        unlockCondition: (stats) => stats.daysOnTarget >= 90,
    },
    {
        id: 'year_streak',
        horizon: 'YEAR', // FIXED: Era LIFETIME
        difficulty: 5,
        name: 'A√±o TotalGains',
        description: 'Entrenas de forma constante durante 365 d√≠as.',
        emoji: 'üî•',
        category: 'constancia',
        targetValue: 365,
        progressKey: 'daysOnTarget',
        unlockCondition: (stats) => stats.daysOnTarget >= 365,
    },
    {
        id: 'comeback',
        horizon: 'SESSION',
        difficulty: 1,
        name: 'Vuelves al ring',
        description: 'Vuelves a entrenar tras 14+ d√≠as sin entrenos.',
        emoji: 'ü•ä',
        category: 'constancia',
        unlockCondition: (stats) => stats.daysSinceLastWorkout >= 14 && stats.justCompletedWorkout,
    },
    {
        id: 'media_luna',
        horizon: 'SESSION',
        difficulty: 1,
        name: 'Media Luna',
        description: 'Entreno completado despu√©s de las 22:00.',
        emoji: 'üåô',
        category: 'constancia',
        unlockCondition: (stats) => {
            if (!stats.justCompletedWorkout) return false;
            const hour = stats.workoutHour;
            return hour >= 22 || hour < 5;
        },
    },
    {
        id: 'amanecer_hierros',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Amanecer de hierro',
        description: 'Entreno completado antes de las 7:00.',
        emoji: 'üåÖ',
        category: 'constancia',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.workoutHour >= 5 && stats.workoutHour < 7,
    },
    {
        id: 'doble_sesion',
        horizon: 'DAY',
        difficulty: 2,
        name: 'Doble sesi√≥n',
        description: '2 entrenos en el mismo d√≠a.',
        emoji: '‚ôªÔ∏è',
        category: 'constancia',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.workoutsToday >= 2,
    },
    {
        id: 'never_skip_monday',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Nunca saltas lunes',
        description: 'Entrenas 4 lunes seguidos.',
        emoji: 'üíº',
        category: 'constancia',
        unlockCondition: (stats) => stats.consecutiveMondays >= 4,
    },
    {
        id: 'friday_iron_club',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Viernes de hierro',
        description: 'Entrenas 4 viernes seguidos.',
        emoji: 'üç∫',
        category: 'constancia',
        unlockCondition: (stats) => stats.consecutiveFridays >= 4,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üî• INTENSIDAD
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'primer_pr',
        horizon: 'SESSION',
        difficulty: 3,
        name: 'Primer PR',
        description: 'Registras tu primer r√©cord personal en cualquier ejercicio.',
        emoji: 'ü•á',
        category: 'intensidad',
        targetValue: 1,
        progressKey: 'totalPRs',
        unlockCondition: (stats) => stats.totalPRs >= 1,
    },
    {
        id: 'pr_hunter',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Cazador de PRs',
        description: 'Consigues 5 PRs distintos.',
        emoji: 'üéØ',
        category: 'intensidad',
        targetValue: 5,
        progressKey: 'totalPRs',
        unlockCondition: (stats) => stats.totalPRs >= 5,
    },
    {
        id: 'pr_maniac',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Man√≠aco de PRs',
        description: 'Consigues 20 PRs distintos.',
        emoji: 'ü§™',
        category: 'intensidad',
        targetValue: 20,
        progressKey: 'totalPRs',
        unlockCondition: (stats) => stats.totalPRs >= 20,
    },
    {
        id: 'short_and_brutal',
        horizon: 'SESSION',
        difficulty: 3,
        name: 'Corto pero criminal',
        description: 'Entreno < 25 min con alto volumen.',
        emoji: '‚è±Ô∏è',
        category: 'intensidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.workoutDurationMinutes < 25 && stats.sessionVolumeKg >= 2000,
    },
    {
        id: 'maraton_hierros',
        horizon: 'SESSION',
        difficulty: 3,
        name: 'Marat√≥n de hierro',
        description: 'Entreno de 90+ minutos.',
        emoji: 'üê¢',
        category: 'intensidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.workoutDurationMinutes >= 90,
    },
    {
        id: 'full_body_destroyer',
        horizon: 'SESSION',
        difficulty: 3,
        name: 'Full body destroyer',
        description: 'Entreno con 3+ grupos musculares grandes.',
        emoji: 'üíÄ',
        category: 'intensidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.muscleGroupsWorked >= 3,
    },
    {
        id: 'core_killer',
        horizon: 'SESSION',
        difficulty: 3,
        name: 'Core Killer',
        description: 'Varios ejercicios de core en una sesi√≥n.',
        emoji: 'üî•',
        category: 'intensidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.coreExercisesCount >= 3,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üéØ H√ÅBITOS
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'calentado_siempre',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Nunca en fr√≠o',
        description: 'Calentamiento registrado en 10 entrenos.',
        emoji: 'üî•',
        category: 'habitos',
        unlockCondition: (stats) => stats.workoutsWithWarmup >= 10,
    },
    {
        id: 'mobility_fan',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Mobility Fan',
        description: 'Movilidad/estiramientos en 15 entrenos.',
        emoji: 'ü§∏',
        category: 'habitos',
        unlockCondition: (stats) => stats.workoutsWithMobility >= 15,
    },
    {
        id: 'hydrated',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Hidratado como un pro',
        description: 'Objetivo de agua cumplido 7 d√≠as seguidos.',
        emoji: 'üíß',
        category: 'habitos',
        unlockCondition: (stats) => stats.consecutiveWaterGoalDays >= 7,
    },
    {
        id: 'sleep_guardian',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Guardi√°n del sue√±o',
        description: 'Objetivo de sue√±o cumplido 7 d√≠as seguidos.',
        emoji: 'üò¥',
        category: 'habitos',
        unlockCondition: (stats) => stats.consecutiveSleepGoalDays >= 7,
    },
    {
        id: 'injury_free',
        horizon: 'BLOCK', // 3 meses es block
        difficulty: 2,
        name: '0 lesiones',
        description: '3 meses sin marcar lesiones.',
        emoji: 'ü©π',
        category: 'habitos',
        unlockCondition: (stats) => stats.daysWithoutInjury >= 90,
    },
    {
        id: 'warmup_religion',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Calentamiento es religi√≥n',
        description: '30 entrenos con calentamiento.',
        emoji: 'üïØÔ∏è',
        category: 'habitos',
        unlockCondition: (stats) => stats.workoutsWithWarmup >= 30,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üß† MENTALIDAD
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'no_pain_no_gain',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'No Pain No Gain',
        description: 'Completas un entreno duro aun marcando fatiga alta.',
        emoji: 'üòà',
        category: 'mentalidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.completedDespiteFatigue,
    },
    {
        id: 'mala_gana_mode',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Ni con mala gana fallas',
        description: 'D√≠a de baja motivaci√≥n pero entreno completado.',
        emoji: 'üò§',
        category: 'mentalidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.completedDespiteLowMotivation,
    },
    {
        id: 'storm_session',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Tormenta interior',
        description: 'D√≠a muy estresante, entreno completado.',
        emoji: '‚õàÔ∏è',
        category: 'mentalidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.completedDespiteStress,
    },
    {
        id: 'no_mobile',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'M√≥vil en la taquilla',
        description: 'Entreno marcado como "sin distracciones".',
        emoji: 'üìµ',
        category: 'mentalidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.noDistractionsWorkout,
    },
    {
        id: 'focus_mode',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Modo t√∫nel',
        description: '5 entrenos marcados como "focus total".',
        emoji: 'üéß',
        category: 'mentalidad',
        unlockCondition: (stats) => stats.focusModeWorkouts >= 5,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üë• SOCIAL
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'first_share',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Presume un poco',
        description: 'Compartes un entreno al menos una vez.',
        emoji: 'üì∏',
        category: 'social',
        unlockCondition: (stats) => stats.sharedWorkouts >= 1,
    },
    {
        id: 'share_streak',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Evangelizador del hierro',
        description: 'Compartes entreno 5 veces.',
        emoji: 'üì£',
        category: 'social',
        unlockCondition: (stats) => stats.sharedWorkouts >= 5,
    },
    {
        id: 'referral_one',
        horizon: 'DAY',
        difficulty: 1,
        name: 'Recluta 1 disc√≠pulo',
        description: '1 amigo se registra con tu c√≥digo.',
        emoji: 'üßë‚Äçüéì',
        category: 'social',
        targetValue: 1,
        progressKey: 'referrals',
        unlockCondition: (stats) => stats.referrals >= 1,
    },
    {
        id: 'referral_five',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Crea tu ej√©rcito',
        description: '5 amigos se registran con tu c√≥digo.',
        emoji: 'ü™ñ',
        category: 'social',
        targetValue: 5,
        progressKey: 'referrals',
        unlockCondition: (stats) => stats.referrals >= 5,
    },
    {
        id: 'referral_ten',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Reclutador de √©lite',
        description: '10 amigos se registran con tu c√≥digo.',
        emoji: 'üéñÔ∏è',
        category: 'social',
        targetValue: 10,
        progressKey: 'referrals',
        unlockCondition: (stats) => stats.referrals >= 10,
    },
    {
        id: 'referral_twenty',
        horizon: 'LIFETIME',
        difficulty: 3,
        name: 'L√≠der de legi√≥n',
        description: '20 amigos se registran con tu c√≥digo.',
        emoji: 'üëë',
        category: 'social',
        targetValue: 20,
        progressKey: 'referrals',
        unlockCondition: (stats) => stats.referrals >= 20,
    },
    {
        id: 'coach_mode_on',
        horizon: 'DAY',
        difficulty: 2,
        name: 'Modo coach activado',
        description: 'Asignas una rutina a otra persona (rol entrenador).',
        emoji: 'üß†',
        category: 'social',
        unlockCondition: (stats) => stats.assignedRoutines >= 1,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // ü¶∂ PASOS / ACTIVIDAD (CORREGIDO HORIZONTES)
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'steps_10k_total',
        horizon: 'DAY',
        difficulty: 1,
        name: 'Primeros 10K',
        description: 'Has acumulado 10.000 pasos totales registrados.',
        emoji: 'üêæ',
        category: 'pasos',
        targetValue: 10000,
        progressKey: 'totalSteps',
        unlockCondition: (stats) => stats.totalSteps >= 10000,
    },
    {
        id: 'steps_50k_total',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Sin ascensor',
        description: 'Has acumulado 50.000 pasos.',
        emoji: 'üö∂',
        category: 'pasos',
        targetValue: 50000,
        progressKey: 'totalSteps',
        unlockCondition: (stats) => stats.totalSteps >= 50000,
    },
    {
        id: 'steps_100k_total',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Centuri√≥n de pasos',
        description: 'Has acumulado 100.000 pasos.',
        emoji: 'üèôÔ∏è',
        category: 'pasos',
        targetValue: 100000,
        progressKey: 'totalSteps',
        unlockCondition: (stats) => stats.totalSteps >= 100000,
    },
    {
        id: 'steps_250k_total',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Carretera secundaria',
        description: 'Has acumulado 250.000 pasos.',
        emoji: 'üõ£Ô∏è',
        category: 'pasos',
        targetValue: 250000,
        progressKey: 'totalSteps',
        unlockCondition: (stats) => stats.totalSteps >= 250000,
    },
    {
        id: 'steps_500k_total',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Medio mill√≥n de zancadas',
        description: 'Has acumulado 500.000 pasos.',
        emoji: 'ü¶ø',
        category: 'pasos',
        targetValue: 500000,
        progressKey: 'totalSteps',
        unlockCondition: (stats) => stats.totalSteps >= 500000,
    },
    {
        id: 'steps_1m_total',
        horizon: 'BLOCK', // FIXED: 1 mill√≥n de pasos es un esfuerzo trimestral (10k/d√≠a x 100 d√≠as)
        difficulty: 3,
        name: 'Mill√≥n de pasos',
        description: 'Has acumulado 1.000.000 pasos.',
        emoji: 'üíé',
        category: 'pasos',
        targetValue: 1000000,
        progressKey: 'totalSteps',
        unlockCondition: (stats) => stats.totalSteps >= 1000000,
    },
    {
        id: 'steps_10k_day',
        horizon: 'DAY',
        difficulty: 2,
        name: 'D√≠a de 10K',
        description: 'Un d√≠a con ‚â• 10.000 pasos.',
        emoji: 'üé™',
        category: 'pasos',
        unlockCondition: (stats) => stats.dailySteps >= 10000,
    },
    {
        id: 'steps_15k_day',
        horizon: 'DAY',
        difficulty: 3,
        name: 'Modo explorador',
        description: 'Un d√≠a con ‚â• 15.000 pasos.',
        emoji: 'üß≠',
        category: 'pasos',
        unlockCondition: (stats) => stats.dailySteps >= 15000,
    },
    {
        id: 'steps_20k_day',
        horizon: 'DAY',
        difficulty: 4,
        name: 'Pod√≥metro roto',
        description: 'Un d√≠a con ‚â• 20.000 pasos.',
        emoji: 'üìü',
        category: 'pasos',
        unlockCondition: (stats) => stats.dailySteps >= 20000,
    },
    {
        id: 'steps_50k_week',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Semana en movimiento',
        description: 'Una semana con ‚â• 50.000 pasos totales.',
        emoji: 'üóìÔ∏è',
        category: 'pasos',
        // Simplificado: 5 d√≠as con >10k pasos (aprox 50k semanal)
        unlockCondition: (stats) => stats.daysOver10kSteps >= 5,
    },
    {
        id: 'steps_70k_week',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Semana de 10K/d√≠a',
        description: 'Una semana con ‚â• 70.000 pasos.',
        emoji: 'üîß',
        category: 'pasos',
        // Simplificado: 7+ d√≠as acumulados con >10k pasos
        unlockCondition: (stats) => stats.daysOver10kSteps >= 7,
    },
    {
        id: 'steps_100k_week',
        horizon: 'WEEK',
        difficulty: 4,
        name: 'Semana maratoniana',
        description: 'Una semana con ‚â• 100.000 pasos.',
        emoji: 'üèÉ',
        category: 'pasos',
        // Simplificado: 10+ d√≠as con >10k pasos
        unlockCondition: (stats) => stats.daysOver10kSteps >= 10,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üìã CHECK-IN (CORREGIDO HORIZONTES)
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'checkin_3_days_row',
        horizon: 'WEEK',
        difficulty: 1,
        name: 'Tres d√≠as honestos',
        description: 'Rellenas el seguimiento 3 d√≠as seguidos.',
        emoji: 'üßæ',
        category: 'checkin',
        targetValue: 3,
        progressKey: 'checkinStreak',
        unlockCondition: (stats) => stats.checkinStreak >= 3,
    },
    {
        id: 'checkin_7_days_row',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Semana sin excusas',
        description: 'Rellenas el seguimiento 7 d√≠as seguidos.',
        emoji: 'üó≥Ô∏è',
        category: 'checkin',
        targetValue: 7,
        progressKey: 'checkinStreak',
        unlockCondition: (stats) => stats.checkinStreak >= 7,
    },
    {
        id: 'checkin_14_days_row',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Quincena ninja',
        description: 'Rellenas el seguimiento 14 d√≠as seguidos.',
        emoji: 'ü•∑',
        category: 'checkin',
        targetValue: 14,
        progressKey: 'checkinStreak',
        unlockCondition: (stats) => stats.checkinStreak >= 14,
    },
    {
        id: 'checkin_30_days_row',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Diario blindado',
        description: 'Rellenas el seguimiento 30 d√≠as seguidos.',
        emoji: 'üîê',
        category: 'checkin',
        targetValue: 30,
        progressKey: 'checkinStreak',
        unlockCondition: (stats) => stats.checkinStreak >= 30,
    },
    {
        id: 'checkin_60_days_row',
        horizon: 'BLOCK', // 2 meses = inicio de bloque
        difficulty: 3,
        name: 'Dos meses de verdad',
        description: 'Rellenas el seguimiento 60 d√≠as seguidos.',
        emoji: 'üìò',
        category: 'checkin',
        targetValue: 60,
        progressKey: 'checkinStreak',
        unlockCondition: (stats) => stats.checkinStreak >= 60,
    },
    {
        id: 'checkin_100_days_row',
        horizon: 'BLOCK', // FIXED: 100 d√≠as es Block
        difficulty: 4,
        name: 'Cien d√≠as consciente',
        description: 'Rellenas el seguimiento 100 d√≠as seguidos.',
        emoji: 'üí°',
        category: 'checkin',
        targetValue: 100,
        progressKey: 'checkinStreak',
        unlockCondition: (stats) => stats.checkinStreak >= 100,
    },
    {
        id: 'checkin_365_days_row',
        horizon: 'YEAR', // FIXED: Era WEEK. A√±o es YEAR.
        difficulty: 5,
        name: 'A√±o despierto',
        description: 'Rellenas el seguimiento 365 d√≠as seguidos.',
        emoji: 'üëë',
        category: 'checkin',
        targetValue: 365,
        progressKey: 'checkinStreak',
        unlockCondition: (stats) => stats.checkinStreak >= 365,
    },
    {
        id: 'checkin_4_weeks_row',
        horizon: 'MONTH',
        difficulty: 2,
        name: '4 semanas presentes',
        description: 'Rellenas el seguimiento al menos 1 vez por semana durante 4 semanas seguidas.',
        emoji: 'üìä',
        category: 'checkin',
        targetValue: 4,
        progressKey: 'weeklyCheckinStreak',
        unlockCondition: (stats) => stats.weeklyCheckinStreak >= 4,
    },
    {
        id: 'checkin_12_weeks_row',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Trimestre despierto',
        description: 'Mantienes esa constancia 12 semanas.',
        emoji: 'üëÅÔ∏è',
        category: 'checkin',
        targetValue: 12,
        progressKey: 'weeklyCheckinStreak',
        unlockCondition: (stats) => stats.weeklyCheckinStreak >= 12,
    },
    {
        id: 'checkin_52_weeks_row',
        horizon: 'YEAR',
        difficulty: 4,
        name: 'Seguimiento anual',
        description: 'Rellenas el seguimiento semanalmente durante 1 a√±o.',
        emoji: 'üìö',
        category: 'checkin',
        targetValue: 52,
        progressKey: 'weeklyCheckinStreak',
        unlockCondition: (stats) => stats.weeklyCheckinStreak >= 52,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üò¥ SUE√ëO
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'sleep_8h_night',
        horizon: 'DAY',
        difficulty: 2,
        name: 'Noche de humano sano',
        description: 'Un d√≠a con ‚â• 8 h de sue√±o.',
        emoji: 'üîã',
        category: 'sueno',
        unlockCondition: (stats) => stats.sleepHours >= 8,
    },
    {
        id: 'sleep_10h_reset',
        horizon: 'DAY',
        difficulty: 1,
        name: 'Reseteo brutal',
        description: 'Una noche con ‚â• 10 h de sue√±o (modo recuperaci√≥n total).',
        emoji: 'üîÑ',
        category: 'sueno',
        unlockCondition: (stats) => stats.sleepHours >= 10,
    },
    {
        id: 'sleep_7nights_7h',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Semana de sue√±o decente',
        description: '7 d√≠as seguidos con ‚â• 7 h de sue√±o.',
        emoji: 'üòå',
        category: 'sueno',
        targetValue: 7,
        progressKey: 'sleepStreak7h',
        unlockCondition: (stats) => stats.sleepStreak7h >= 7,
    },
    {
        id: 'sleep_30days_avg7h',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Higiene del sue√±o',
        description: '30 d√≠as con media de sue√±o ‚â• 7 h/noche.',
        emoji: 'üìê',
        category: 'sueno',
        targetValue: 30,
        progressKey: 'daysWithGoodSleepAvg',
        // Simplificado: usa sleepDays7h que se incrementa en check-in daily
        unlockCondition: (stats) => stats.sleepDays7h >= 30,
    },
    {
        id: 'sleep_90days_consistent',
        horizon: 'BLOCK', // FIXED: Era WEEK
        difficulty: 4,
        name: 'Sistema nervioso agradecido',
        description: '90 d√≠as donde la media de sue√±o se mantiene en rango sano.',
        emoji: 'ü´Ä',
        category: 'sueno',
        targetValue: 90,
        progressKey: 'daysWithGoodSleepAvg',
        // Simplificado: usa sleepDays7h para logro de 90 d√≠as
        unlockCondition: (stats) => stats.sleepDays7h >= 90,
    },
    {
        id: 'sleep_zombie',
        horizon: 'SESSION',
        difficulty: 1,
        name: 'Zombi pero responsable',
        description: 'Duermes < 5 h, pero a√∫n as√≠ rellenas el seguimiento.',
        emoji: 'üßü',
        category: 'sueno',
        // Simplificado: sleepHours < 5 en check-in actual y tiene al menos 1 check-in
        unlockCondition: (stats) => stats.sleepHours > 0 && stats.sleepHours < 5 && stats.totalCheckins >= 1,
    },
    {
        id: 'sleep_log_7_days_row',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Cronista del sue√±o',
        description: '7 d√≠as seguidos registrando tus horas de sue√±o (da igual cu√°ntas).',
        emoji: 'üìì',
        category: 'sueno',
        targetValue: 7,
        progressKey: 'sleepLogStreak',
        // Simplificado: usa sleepStreak7h que ya existe en Progress
        unlockCondition: (stats) => stats.sleepStreak7h >= 7 || stats.sleepStreak8h >= 7,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üòä √ÅNIMO
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'mood_resilient_3bad',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Mal pero firme',
        description: 'Marcas tu estado emocional como "Mal" 3 d√≠as seguidos y a√∫n as√≠ rellenas todo.',
        emoji: 'ü™®',
        category: 'animo',
        // Simplificado: 3+ d√≠as con √°nimo bajo pero sigue rellenando
        unlockCondition: (stats) => stats.moodScore <= 2 && stats.checkinStreak >= 3,
    },
    {
        id: 'mood_comeback',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Remontada emocional',
        description: 'Tras 3+ d√≠as seguidos marcando "Mal", encadenas 3 d√≠as seguidos marcando estado emocional "Bien/Genial".',
        emoji: 'üîÉ',
        category: 'animo',
        // Simplificado: despu√©s de tener √°nimo bajo, ahora tiene √°nimo alto (greatMoodDays > 0)
        unlockCondition: (stats) => stats.greatMoodDays >= 3 && stats.goodMoodDays >= 5,
    },
    {
        id: 'mood_7days_good',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Buena racha',
        description: '7 d√≠as seguidos con estado emocional medio/alto.',
        emoji: 'üòÄ',
        category: 'animo',
        targetValue: 7,
        progressKey: 'goodMoodStreak',
        // Simplificado: usa moodStreak4Plus que se actualiza en check-in daily
        unlockCondition: (stats) => stats.moodStreak4Plus >= 7,
    },
    {
        id: 'mood_30days_positive',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Optimista por estad√≠stica',
        description: '30 d√≠as donde la media de √°nimo est√° en rango positivo.',
        emoji: 'üìà',
        category: 'animo',
        targetValue: 30,
        progressKey: 'daysWithPositiveMoodAvg',
        // Simplificado: 30 d√≠as con √°nimo bueno acumulado
        unlockCondition: (stats) => stats.goodMoodDays >= 30,
    },
    {
        id: 'motivation_low_but_tracked',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Disciplina > motivaci√≥n',
        description: 'Marca de motivaci√≥n baja pero entreno y seguimiento realizados.',
        emoji: 'ü•∂',
        category: 'animo',
        unlockCondition: (stats) => stats.lowMotivationButCompleted,
    },
    {
        id: 'motivation_high_week',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Semana hype',
        description: '7 d√≠as seguidos marcando motivaci√≥n alta.',
        emoji: 'üé¢',
        category: 'animo',
        targetValue: 7,
        progressKey: 'highMotivationStreak',
        unlockCondition: (stats) => stats.highMotivationStreak >= 7,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // ‚ö° ENERG√çA
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'energy_high_7days',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Bater√≠a al 80%',
        description: '7 d√≠as seguidos marcando energ√≠a en rango medio-alto / alto.',
        emoji: 'üîã',
        category: 'energia',
        targetValue: 7,
        progressKey: 'highEnergyStreak',
        unlockCondition: (stats) => stats.highEnergyStreak >= 7,
    },
    {
        id: 'stress_low_7days',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Semana zen',
        description: '7 d√≠as seguidos marcando estr√©s en nivel bajo.',
        emoji: 'üßò',
        category: 'energia',
        targetValue: 7,
        progressKey: 'lowStressStreak',
        unlockCondition: (stats) => stats.lowStressStreak >= 7,
    },
    {
        id: 'stress_warrior_3high_tracked',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Guerrero del caos',
        description: '3 d√≠as donde marcas estr√©s alto, pero cumples plan de entrenamiento y seguimiento.',
        emoji: '‚öîÔ∏è',
        category: 'energia',
        unlockCondition: (stats) => stats.highStressButCompleted >= 3,
    },
    {
        id: 'fatigue_high_but_tracked_week',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Fatiga pero no retirada',
        description: 'Una semana con varios d√≠as de fatiga alta pero mantienes adherencia al plan de entreno.',
        emoji: 'ü¶∫',
        category: 'energia',
        unlockCondition: (stats) => stats.fatigueButAdherent,
    },
    {
        id: 'balance_energy_stress_week',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Semana equilibrada',
        description: 'Una semana con energ√≠a aceptable y estr√©s controlado.',
        emoji: '‚òØÔ∏è',
        category: 'energia',
        unlockCondition: (stats) => stats.balancedWeek,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üçΩÔ∏è NUTRICI√ìN
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'nutrition_week_perfect_adherence',
        horizon: 'WEEK',
        difficulty: 4, // Dif√≠cil
        name: 'Semana de precisi√≥n',
        description: 'Semana con adherencia a la dieta m√°xima y sin fallos.',
        emoji: 'üß™',
        category: 'nutricion',
        unlockCondition: (stats) => stats.perfectNutritionWeek,
    },
    {
        id: 'nutrition_7days_high_adherence',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Adherente de verdad',
        description: '7 d√≠as seguidos marcando adherencia media-alta / alta.',
        emoji: 'üìå',
        category: 'nutricion',
        targetValue: 7,
        progressKey: 'highNutritionAdherenceStreak',
        unlockCondition: (stats) => stats.highNutritionAdherenceStreak >= 7,
    },
    {
        id: 'nutrition_30days_consistent',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Mes sin excusas en la mesa',
        description: '30 d√≠as donde la adherencia nunca cae al m√≠nimo.',
        emoji: 'üç¥',
        category: 'nutricion',
        targetValue: 30,
        progressKey: 'daysWithoutMinAdherence',
        unlockCondition: (stats) => stats.daysWithoutMinAdherence >= 30,
    },
    {
        id: 'nutrition_free_meals_controlled',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Libres con cabeza',
        description: 'Semana con comidas libres controladas y adherencia general buena.',
        emoji: 'üç∞',
        category: 'nutricion',
        unlockCondition: (stats) => stats.controlledFreeMealsWeek,
    },
    {
        id: 'satiety_ok_7days',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Hambre domada',
        description: '7 d√≠as seguidos marcando saciedad en rango medio.',
        emoji: 'üê∫',
        category: 'nutricion',
        targetValue: 7,
        progressKey: 'goodSatietyStreak',
        unlockCondition: (stats) => stats.goodSatietyStreak >= 7,
    },
    {
        id: 'gi_perfect_week',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Intestino feliz',
        description: 'Semana con gastrointestinal en "Bien/Perfecto" todos los d√≠as.',
        emoji: 'üí©',
        category: 'nutricion',
        unlockCondition: (stats) => stats.perfectGIWeek,
    },
    {
        id: 'gi_4weeks_ok',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Tracto legendario',
        description: '4 semanas sin marcar "Mal" en el apartado gastrointestinal.',
        emoji: 'üèÜ',
        category: 'nutricion',
        targetValue: 4,
        progressKey: 'weeksWithGoodGI',
        unlockCondition: (stats) => stats.weeksWithGoodGI >= 4,
    },
    {
        id: 'bowel_regular_7days',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Reloj suizo',
        description: '7 d√≠as seguidos con deposiciones en "Regular/Bien", sin "Mal".',
        emoji: '‚è∞',
        category: 'nutricion',
        targetValue: 7,
        progressKey: 'regularBowelStreak',
        unlockCondition: (stats) => stats.regularBowelStreak >= 7,
    },
    {
        id: 'nutrition_comment_4weeks',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Diario de la mesa',
        description: '4 semanas seguidas escribiendo el comentario de nutrici√≥n.',
        emoji: 'üìù',
        category: 'nutricion',
        targetValue: 4,
        progressKey: 'nutritionCommentStreak',
        unlockCondition: (stats) => stats.nutritionCommentStreak >= 4,
    },
    {
        id: 'no_binge_month',
        horizon: 'MONTH',
        difficulty: 4,
        name: 'Adi√≥s atracones',
        description: '30 d√≠as sin marcar ninguna combinaci√≥n "adherencia muy baja + muchas comidas libres".',
        emoji: 'üö´',
        category: 'nutricion',
        targetValue: 30,
        progressKey: 'daysWithoutBinge',
        unlockCondition: (stats) => stats.daysWithoutBinge >= 30,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // ‚öñÔ∏è PESO / MEDIDAS
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'first_weight_log',
        horizon: 'SESSION',
        difficulty: 1,
        name: 'Primer peso registrado',
        description: 'Registras tu peso por primera vez.',
        emoji: 'üèãÔ∏è‚Äç‚ôÄÔ∏è',
        category: 'peso',
        targetValue: 1,
        progressKey: 'weightLogs',
        unlockCondition: (stats) => stats.weightLogs >= 1,
    },
    {
        id: 'weight_30days_tracked',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Peso bajo control',
        description: '30 d√≠as donde registras el peso sin saltarte m√°s de X d√≠as seguidos.',
        emoji: 'üìâ',
        category: 'peso',
        targetValue: 30,
        progressKey: 'daysWithWeightTracked',
        unlockCondition: (stats) => stats.daysWithWeightTracked >= 30,
    },
    {
        id: 'waist_minus_2cm',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Cintura en retroceso 2 cm',
        description: 'Tu medida de cintura baja ‚â• 2 cm respecto al primer registro.',
        emoji: 'üìè',
        category: 'peso',
        unlockCondition: (stats) => stats.waistChange <= -2,
    },
    {
        id: 'waist_minus_5cm',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Cintura en guerra 5 cm',
        description: 'Tu medida de cintura baja ‚â• 5 cm respecto al primer registro.',
        emoji: 'ü™ì',
        category: 'peso',
        unlockCondition: (stats) => stats.waistChange <= -5,
    },
    {
        id: 'measurements_4weeks_logged',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Cinta m√©trica fiel',
        description: 'Rellenas las mediciones corporales al menos 1 vez por semana durante 4 semanas.',
        emoji: 'üßµ',
        category: 'peso',
        targetValue: 4,
        progressKey: 'weeklyMeasurementStreak',
        unlockCondition: (stats) => stats.weeklyMeasurementStreak >= 4,
    },
    {
        id: 'shape_shift',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Cambiando el molde',
        description: 'Detectas cambio significativo en 2+ mediciones.',
        emoji: 'üî≤',
        category: 'peso',
        unlockCondition: (stats) => stats.significantBodyChange,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üí≠ REFLEXI√ìN
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'reflection_improve_7days',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Autocr√≠tico sano',
        description: '7 d√≠as seguidos rellenando "Top 1 cosa a mejorar".',
        emoji: 'üîç',
        category: 'reflexion',
        targetValue: 7,
        progressKey: 'improveReflectionStreak',
        unlockCondition: (stats) => stats.improveReflectionStreak >= 7,
    },
    {
        id: 'reflection_improve_30days',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Arquitecto de h√°bitos',
        description: '30 d√≠as donde no dejas vac√≠o el campo de mejora.',
        emoji: 'üèóÔ∏è',
        category: 'reflexion',
        targetValue: 30,
        progressKey: 'improveReflectionStreak',
        unlockCondition: (stats) => stats.improveReflectionStreak >= 30,
    },
    {
        id: 'reflection_proud_7days',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Orgullo diario',
        description: '7 d√≠as seguidos rellenando "Top 1 cosa que hice bien".',
        emoji: 'üåü',
        category: 'reflexion',
        targetValue: 7,
        progressKey: 'proudReflectionStreak',
        unlockCondition: (stats) => stats.proudReflectionStreak >= 7,
    },
    {
        id: 'reflection_proud_30days',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Autoestima con datos',
        description: '30 d√≠as reforzando qu√© haces bien.',
        emoji: '‚ù§Ô∏è‚Äçüî•',
        category: 'reflexion',
        targetValue: 30,
        progressKey: 'proudReflectionStreak',
        unlockCondition: (stats) => stats.proudReflectionStreak >= 30,
    },
    {
        id: 'reflection_full_4weeks',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Semana de journaling serio',
        description: '4 semanas seguidas rellenando reflexi√≥n completa.',
        emoji: 'üìñ',
        category: 'reflexion',
        targetValue: 4,
        progressKey: 'fullReflectionWeeks',
        unlockCondition: (stats) => stats.fullReflectionWeeks >= 4,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üß© COMBOS
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'perfect_day_basic',
        horizon: 'DAY',
        difficulty: 3,
        name: 'D√≠a redondo',
        description: 'Cumples: Sue√±o, Pasos, Adherencia entreno y dieta alta, Estado positivo.',
        emoji: 'üîµ',
        category: 'combos',
        unlockCondition: (stats) => stats.perfectDay,
    },
    {
        id: 'perfect_week_basic',
        horizon: 'WEEK',
        difficulty: 4,
        name: 'Semana TotalGains',
        description: 'Una semana donde logras ‚â• 5 d√≠as "casi perfectos".',
        emoji: 'üèÖ',
        category: 'combos',
        unlockCondition: (stats) => stats.perfectWeek,
    },
    {
        id: 'perfect_health_week',
        horizon: 'WEEK',
        difficulty: 4,
        name: 'Semana de salud integral',
        description: 'Semana con: Sue√±o ‚â• 7h, GI ok, Pasos ok.',
        emoji: 'üå±',
        category: 'combos',
        unlockCondition: (stats) => stats.perfectHealthWeek,
    },
    {
        id: 'everything_tracked_day',
        horizon: 'DAY',
        difficulty: 2,
        name: 'D√≠a 100% consciente',
        description: 'Un d√≠a donde rellenas TODAS las secciones.',
        emoji: '‚úÖ',
        category: 'combos',
        unlockCondition: (stats) => stats.fullTrackedDay,
    },
    {
        id: 'everything_tracked_week',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Semana 100% consciente',
        description: '7 d√≠as seguidos donde rellenas todas las secciones obligatorias.',
        emoji: 'üìô',
        category: 'combos',
        targetValue: 7,
        progressKey: 'fullTrackedDayStreak',
        unlockCondition: (stats) => stats.fullTrackedDayStreak >= 7,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // ü•ö EASTER EGGS
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'bug_survivor',
        horizon: 'LIFETIME',
        difficulty: 3,
        name: 'Sobreviviste al bug',
        description: 'Tras actualizar de versi√≥n, completas un entreno el mismo d√≠a.',
        emoji: 'üêû',
        category: 'easter_egg',
        isHidden: true,
        unlockCondition: (stats) => stats.workoutAfterUpdate,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üìä VOLUMEN - Sesi√≥n
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'session_3k_volume',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Calentando motores',
        description: 'Primera vez que haces ‚â• 3.000 kg de volumen en una sesi√≥n.',
        emoji: 'üîß',
        category: 'volumen',
        targetValue: 3000,
        progressKey: 'sessionVolumeKg',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.sessionVolumeKg >= 3000,
    },
    {
        id: 'session_5k_volume',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Sesi√≥n decente',
        description: 'Primera sesi√≥n con ‚â• 5.000 kg de volumen.',
        emoji: 'üî©',
        category: 'volumen',
        targetValue: 5000,
        progressKey: 'sessionVolumeKg',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.sessionVolumeKg >= 5000,
    },
    {
        id: 'session_8k_volume',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Sesi√≥n seria',
        description: 'Primera sesi√≥n con ‚â• 8.000 kg de volumen.',
        emoji: 'üß±',
        category: 'volumen',
        targetValue: 8000,
        progressKey: 'sessionVolumeKg',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.sessionVolumeKg >= 8000,
    },
    {
        id: 'session_10k_volume',
        horizon: 'SESSION',
        difficulty: 3,
        name: 'D√≠a de trabajo real',
        description: 'Primera vez que pasas de 10.000 kg de volumen en un entreno.',
        emoji: 'üíº',
        category: 'volumen',
        targetValue: 10000,
        progressKey: 'sessionVolumeKg',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.sessionVolumeKg >= 10000,
    },
    {
        id: 'session_leg_focus',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Pierna sin excusas',
        description: 'Sesi√≥n donde la mayor√≠a de volumen es de ejercicios de pierna.',
        emoji: 'ü¶µ',
        category: 'volumen',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.legVolumeRatio >= 0.5,
    },
    {
        id: 'session_push_focus',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Empuje dominante',
        description: 'Sesi√≥n donde el volumen de empuje es mayoritario.',
        emoji: 'ü´∏',
        category: 'volumen',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.pushVolumeRatio >= 0.5,
    },
    {
        id: 'session_pull_focus',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Tir√≥n dominante',
        description: 'Sesi√≥n con mayor√≠a de volumen de espalda/b√≠ceps.',
        emoji: 'ü™ù',
        category: 'volumen',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.pullVolumeRatio >= 0.5,
    },
    {
        id: 'session_fullbody',
        horizon: 'SESSION',
        difficulty: 3,
        name: 'Full Body real',
        description: 'Sesi√≥n con m√≠nimo 4 grupos musculares distintos y volumen ‚â• 5.000 kg.',
        emoji: 'üí•',
        category: 'volumen',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.muscleGroupsWorked >= 4 && stats.sessionVolumeKg >= 5000,
    },
    {
        id: 'session_long_70min',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'Larga pero controlada',
        description: 'Sesi√≥n de ‚â• 70 minutos efectiva.',
        emoji: '‚è±Ô∏è',
        category: 'intensidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.workoutDurationMinutes >= 70,
    },
    {
        id: 'session_density_boost',
        horizon: 'SESSION',
        difficulty: 3,
        name: 'Denso como un neutr√≥n',
        description: 'Sesi√≥n con volumen / minuto por encima de tu media.',
        emoji: 'üåë',
        category: 'intensidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.volumePerMinuteAboveAvg,
    },
    {
        id: 'session_no_skip_last_set',
        horizon: 'SESSION',
        difficulty: 3,
        name: '√öltima serie o muerte',
        description: 'D√≠a en el que no cancelas ninguna de las series planificadas.',
        emoji: 'ü©∏',
        category: 'mentalidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.noSkippedSets,
    },
    {
        id: 'session_technique_day',
        horizon: 'SESSION',
        difficulty: 2,
        name: 'D√≠a t√©cnico',
        description: 'Sesi√≥n con peso moderado pero muchas series.',
        emoji: 'üß†',
        category: 'intensidad',
        unlockCondition: (stats) => stats.justCompletedWorkout && stats.techniqueSession,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üìä VOLUMEN - Semana
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'week_3_sessions',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Semana b√°sica completada',
        description: 'Haces 3 entrenos en una semana.',
        emoji: '‚úÖ',
        category: 'constancia',
        targetValue: 3,
        progressKey: 'workoutsThisWeek',
        unlockCondition: (stats) => stats.workoutsThisWeek >= 3,
    },
    {
        id: 'week_4_sessions',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Semana est√°ndar de atleta',
        description: 'Haces 4 entrenos en una semana.',
        emoji: 'üèÉ',
        category: 'constancia',
        targetValue: 4,
        progressKey: 'workoutsThisWeek',
        unlockCondition: (stats) => stats.workoutsThisWeek >= 4,
    },
    {
        id: 'week_5_sessions',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Semana vicio controlado',
        description: 'Haces 5 entrenos en una semana.',
        emoji: 'üîÅ',
        category: 'constancia',
        targetValue: 5,
        progressKey: 'workoutsThisWeek',
        unlockCondition: (stats) => stats.workoutsThisWeek >= 5,
    },
    {
        id: 'week_20k_volume',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Hierro introductorio',
        description: 'Suma semanal de volumen ‚â• 20.000 kg.',
        emoji: 'üì¶',
        category: 'volumen',
        targetValue: 20000,
        progressKey: 'weeklyVolumeKg',
        unlockCondition: (stats) => stats.weeklyVolumeKg >= 20000,
    },
    {
        id: 'week_40k_volume',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Semana currante',
        description: 'Semana ‚â• 40.000 kg de volumen.',
        emoji: 'üî®',
        category: 'volumen',
        targetValue: 40000,
        progressKey: 'weeklyVolumeKg',
        unlockCondition: (stats) => stats.weeklyVolumeKg >= 40000,
    },
    {
        id: 'week_60k_volume',
        horizon: 'WEEK',
        difficulty: 4,
        name: 'Semana seria de bloque',
        description: 'Semana ‚â• 60.000 kg.',
        emoji: 'üîí',
        category: 'volumen',
        targetValue: 60000,
        progressKey: 'weeklyVolumeKg',
        unlockCondition: (stats) => stats.weeklyVolumeKg >= 60000,
    },
    {
        id: 'week_leg_focus',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Piernas protagonistas',
        description: 'Semana donde pierna acumula ‚â• 40% del volumen total.',
        emoji: 'ü¶µüî•',
        category: 'volumen',
        unlockCondition: (stats) => stats.weeklyLegVolumeRatio >= 0.4,
    },
    {
        id: 'week_push_pull_balance',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Empuje / Tir√≥n equilibrado',
        description: 'Semana con volumen de push y pull equilibrado.',
        emoji: '‚öñÔ∏è',
        category: 'volumen',
        unlockCondition: (stats) => stats.pushPullBalanced,
    },
    {
        id: 'week_no_skips',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Sin excusas semanales',
        description: 'Cumples todas las sesiones planificadas esa semana.',
        emoji: 'üìÖ',
        category: 'constancia',
        unlockCondition: (stats) => stats.weeklyNoSkips,
    },
    {
        id: 'week_back_to_back_heavy',
        horizon: 'WEEK',
        difficulty: 3,
        name: 'Dos pesadas y no lloras',
        description: 'En una semana haces 2 sesiones con volumen alto.',
        emoji: 'üí™',
        category: 'volumen',
        unlockCondition: (stats) => stats.weeklyHeavySessions >= 2,
    },
    {
        id: 'week_muscle_variety',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Cat√°logo de m√°quinas',
        description: 'Semana con ‚â• 10 ejercicios distintos usados.',
        emoji: 'üìö',
        category: 'volumen',
        unlockCondition: (stats) => stats.weeklyExerciseVariety >= 10,
    },
    {
        id: 'week_focus_block',
        horizon: 'WEEK',
        difficulty: 2,
        name: 'Bloque tem√°tico',
        description: 'Semana donde priorizas 1 grupo muscular.',
        emoji: 'üî≠',
        category: 'volumen',
        unlockCondition: (stats) => stats.weeklyFocusBlock,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üìÜ CONSTANCIA - Mes / Bloque
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'month_3_sessions_each_week',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Mes estable',
        description: '4 semanas seguidas con ‚â• 3 entrenos/semana.',
        emoji: 'üìÜ',
        category: 'constancia',
        targetValue: 4,
        progressKey: 'weeksWithMinSessions',
        unlockCondition: (stats) => stats.weeksWithMinSessions >= 4,
    },
    {
        id: 'month_4_sessions_each_week',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Mes de atleta',
        description: '4 semanas seguidas con ‚â• 4 entrenos/semana.',
        emoji: 'üèÖ',
        category: 'constancia',
        targetValue: 4,
        progressKey: 'weeksWithAthleteRoutine',
        unlockCondition: (stats) => stats.weeksWithAthleteRoutine >= 4,
    },
    {
        id: 'month_leg_priority',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Mes de Leg Day eterno',
        description: 'Durante 4 semanas seguidas, pierna tiene mucho volumen.',
        emoji: 'üöí',
        category: 'volumen',
        unlockCondition: (stats) => stats.monthlyLegPriority,
    },
    {
        id: 'month_volume_200k',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Bloque de trabajo',
        description: 'Volumen total del mes ‚â• 200.000 kg.',
        emoji: 'üì¶',
        category: 'volumen',
        targetValue: 200000,
        progressKey: 'monthlyVolumeKg',
        unlockCondition: (stats) => stats.monthlyVolumeKg >= 200000,
    },
    {
        id: 'month_volume_300k',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Mes cargado',
        description: 'Mes ‚â• 300.000 kg.',
        emoji: 'üí£',
        category: 'volumen',
        targetValue: 300000,
        progressKey: 'monthlyVolumeKg',
        unlockCondition: (stats) => stats.monthlyVolumeKg >= 300000,
    },
    {
        id: 'month_volume_400k',
        horizon: 'MONTH',
        difficulty: 4,
        name: 'Mes brutal',
        description: 'Mes ‚â• 400.000 kg.',
        emoji: 'ü´†',
        category: 'volumen',
        targetValue: 400000,
        progressKey: 'monthlyVolumeKg',
        unlockCondition: (stats) => stats.monthlyVolumeKg >= 400000,
    },
    {
        id: 'month_no_deload',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Mes sin aflojar',
        description: 'Un mes entero sin marcar semana de descarga.',
        emoji: 'üö´',
        category: 'intensidad',
        unlockCondition: (stats) => stats.monthWithoutDeload,
    },
    {
        id: 'month_smart_deload',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Deload inteligente',
        description: 'Mes donde incluyes 1 semana de descarga despu√©s de 3 duras.',
        emoji: 'üß†',
        category: 'habitos',
        unlockCondition: (stats) => stats.smartDeloadMonth,
    },
    {
        id: 'month_pr_week',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Un PR por semana',
        description: 'En 4 semanas seguidas, consigues al menos 1 PR cada semana.',
        emoji: 'üí•',
        category: 'intensidad',
        unlockCondition: (stats) => stats.monthlyPRWeeks >= 4,
    },
    {
        id: 'month_upper_lower_balance',
        horizon: 'MONTH',
        difficulty: 3,
        name: 'Mes balanceado',
        description: 'Tren superior e inferior tienen vol√∫menes mensuales similares.',
        emoji: 'ü©∏',
        category: 'volumen',
        unlockCondition: (stats) => stats.monthlyUpperLowerBalance,
    },
    {
        id: 'month_technique_focus',
        horizon: 'MONTH',
        difficulty: 2,
        name: 'Mes t√©cnico',
        description: 'Mes donde haces muchas sesiones de t√©cnica.',
        emoji: 'üìê',
        category: 'intensidad',
        unlockCondition: (stats) => stats.monthlyTechniqueFocus,
    },
    {
        id: 'block_8_weeks_strength',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Bloque de fuerza (8 sem)',
        description: '8 semanas seguidas entrenando sin breaks grandes.',
        emoji: 'üèóÔ∏è',
        category: 'constancia',
        targetValue: 8,
        progressKey: 'strengthBlockWeeks',
        unlockCondition: (stats) => stats.strengthBlockWeeks >= 8,
    },
    {
        id: 'block_12_weeks_hypertrophy',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Bloque de hipertrofia',
        description: '12 semanas donde tu volumen medio crece.',
        emoji: 'üí™',
        category: 'volumen',
        targetValue: 12,
        progressKey: 'hypertrophyBlockWeeks',
        unlockCondition: (stats) => stats.hypertrophyBlockWeeks >= 12,
    },
    {
        id: 'block_3_months_no_skip_main_lifts',
        horizon: 'BLOCK',
        difficulty: 4,
        name: 'Main lifts sagrados',
        description: '3 meses sin saltarte tus b√°sicos principales.',
        emoji: 'üõê',
        category: 'constancia',
        unlockCondition: (stats) => stats.mainLiftsConsistency >= 12,
    },
    {
        id: 'block_3_months_leg_consistency',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Pierna sin llorar',
        description: '3 meses entrenando pierna al menos 1 vez por semana.',
        emoji: 'üò≠',
        category: 'constancia',
        unlockCondition: (stats) => stats.weeklyLegConsistency >= 12,
    },
    {
        id: 'block_3_months_overhead_consistency',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Hombros comprometidos',
        description: '3 meses con press militar presente.',
        emoji: 'üéñÔ∏è',
        category: 'constancia',
        unlockCondition: (stats) => stats.weeklyOverheadConsistency >= 12,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üî• INTENSIDAD - PRs (Banca)
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'bench_60kg',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Pechito 60 kg',
        description: '1RM 60 kg en press de banca.',
        emoji: 'üßí',
        category: 'intensidad',
        exerciseMatch: ['press banca', 'bench press', 'press de banca', 'banca', 'bench'],
        unlockCondition: (stats) => stats.benchPR >= 60,
    },
    {
        id: 'bench_80kg',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Banca respetable',
        description: '1RM 80 kg en press de banca.',
        emoji: 'üéØ',
        category: 'intensidad',
        exerciseMatch: ['press banca', 'bench press', 'press de banca', 'banca', 'bench'],
        unlockCondition: (stats) => stats.benchPR >= 80,
    },
    {
        id: 'bench_100kg',
        horizon: 'BLOCK',
        difficulty: 4,
        name: 'Banca de tres d√≠gitos',
        description: '1RM 100 kg en press de banca.',
        emoji: 'üíØ',
        category: 'intensidad',
        exerciseMatch: ['press banca', 'bench press', 'press de banca', 'banca', 'bench'],
        unlockCondition: (stats) => stats.benchPR >= 100,
    },
    {
        id: 'bench_120kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Banca 120: respeto',
        description: '1RM 120 kg en press de banca.',
        emoji: 'üß¢',
        category: 'intensidad',
        exerciseMatch: ['press banca', 'bench press', 'press de banca', 'banca', 'bench'],
        unlockCondition: (stats) => stats.benchPR >= 120,
    },
    {
        id: 'bench_140kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Pecho de b√∫falo',
        description: '1RM 140 kg en press de banca.',
        emoji: 'üêÇ',
        category: 'intensidad',
        exerciseMatch: ['press banca', 'bench press', 'press de banca', 'banca', 'bench'],
        unlockCondition: (stats) => stats.benchPR >= 140,
    },
    {
        id: 'bench_160kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Banca 160: Power mode',
        description: '1RM 160 kg en press de banca.',
        emoji: 'üöÄ',
        category: 'intensidad',
        exerciseMatch: ['press banca', 'bench press', 'press de banca', 'banca', 'bench'],
        unlockCondition: (stats) => stats.benchPR >= 160,
    },
    {
        id: 'bench_1_25x_bw',
        horizon: 'BLOCK',
        difficulty: 4,
        name: 'Banca 1.25x tu peso',
        description: '1RM ‚â• 1.25 √ó peso corporal.',
        emoji: 'üí≤',
        category: 'intensidad',
        exerciseMatch: ['press banca', 'bench press', 'press de banca', 'banca', 'bench'],
        unlockCondition: (stats) => stats.benchPR > 0 && stats.bodyWeight > 0 && stats.benchPR >= stats.bodyWeight * 1.25,
    },
    {
        id: 'bench_1_5x_bw',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Banca 1.5x tu peso',
        description: '1RM ‚â• 1.5 √ó peso corporal.',
        emoji: 'üí•',
        category: 'intensidad',
        exerciseMatch: ['press banca', 'bench press', 'press de banca', 'banca', 'bench'],
        unlockCondition: (stats) => stats.benchPR > 0 && stats.bodyWeight > 0 && stats.benchPR >= stats.bodyWeight * 1.5,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üî• INTENSIDAD - PRs (Sentadilla)
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'squat_80kg',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Sentadilla iniciada',
        description: '1RM 80 kg en sentadilla.',
        emoji: 'ü¶µ',
        category: 'intensidad',
        exerciseMatch: ['sentadilla', 'squat'],
        unlockCondition: (stats) => stats.squatPR >= 80,
    },
    {
        id: 'squat_100kg',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Primera senta de tres cifras',
        description: '1RM 100 kg en sentadilla.',
        emoji: 'üíØ',
        category: 'intensidad',
        exerciseMatch: ['sentadilla', 'squat'],
        unlockCondition: (stats) => stats.squatPR >= 100,
    },
    {
        id: 'squat_140kg',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Sentadilla seria',
        description: '1RM 140 kg en sentadilla.',
        emoji: 'üèóÔ∏è',
        category: 'intensidad',
        exerciseMatch: ['sentadilla', 'squat'],
        unlockCondition: (stats) => stats.squatPR >= 140,
    },
    {
        id: 'squat_180kg',
        horizon: 'BLOCK',
        difficulty: 4,
        name: 'Piso duro',
        description: '1RM 180 kg en sentadilla.',
        emoji: '‚öíÔ∏è',
        category: 'intensidad',
        exerciseMatch: ['sentadilla', 'squat'],
        unlockCondition: (stats) => stats.squatPR >= 180,
    },
    {
        id: 'squat_220kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Modo bestia',
        description: '1RM 220 kg en sentadilla.',
        emoji: 'üêó',
        category: 'intensidad',
        exerciseMatch: ['sentadilla', 'squat'],
        unlockCondition: (stats) => stats.squatPR >= 220,
    },
    {
        id: 'squat_260kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Sentadilla brutal',
        description: '1RM 260 kg en sentadilla.',
        emoji: 'üõ†Ô∏è',
        category: 'intensidad',
        exerciseMatch: ['sentadilla', 'squat'],
        unlockCondition: (stats) => stats.squatPR >= 260,
    },
    {
        id: 'squat_1_5x_bw',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Sentadilla 1.5x tu peso',
        description: '1RM ‚â• 1.5 √ó peso corporal.',
        emoji: 'üí∞',
        category: 'intensidad',
        exerciseMatch: ['sentadilla', 'squat'],
        unlockCondition: (stats) => stats.squatPR > 0 && stats.bodyWeight > 0 && stats.squatPR >= stats.bodyWeight * 1.5,
    },
    {
        id: 'squat_2x_bw',
        horizon: 'BLOCK',
        difficulty: 5,
        name: 'Sentadilla 2x tu peso',
        description: '1RM ‚â• 2 √ó peso corporal.',
        emoji: 'üõ°Ô∏è',
        category: 'intensidad',
        exerciseMatch: ['sentadilla', 'squat'],
        unlockCondition: (stats) => stats.squatPR > 0 && stats.bodyWeight > 0 && stats.squatPR >= stats.bodyWeight * 2,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üî• INTENSIDAD - PRs (Prensa)
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'legpress_200kg',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Prensa seria',
        description: 'Serie pesada con 200 kg en prensa.',
        emoji: 'üöú',
        category: 'intensidad',
        exerciseMatch: ['prensa', 'leg press'],
        unlockCondition: (stats) => stats.legPressPR >= 200,
    },
    {
        id: 'legpress_300kg',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Carga interesante',
        description: '300 kg en prensa de piernas.',
        emoji: 'üîß',
        category: 'intensidad',
        exerciseMatch: ['prensa', 'leg press'],
        unlockCondition: (stats) => stats.legPressPR >= 300,
    },
    {
        id: 'legpress_400kg',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Media tonelada en camino',
        description: '400 kg en prensa de piernas.',
        emoji: 'üõª',
        category: 'intensidad',
        exerciseMatch: ['prensa', 'leg press'],
        unlockCondition: (stats) => stats.legPressPR >= 400,
    },
    {
        id: 'legpress_500kg',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Media tonelada oficial',
        description: '500 kg en prensa de piernas.',
        emoji: 'üöß',
        category: 'intensidad',
        exerciseMatch: ['prensa', 'leg press'],
        unlockCondition: (stats) => stats.legPressPR >= 500,
    },
    {
        id: 'legpress_600kg',
        horizon: 'BLOCK',
        difficulty: 4,
        name: 'Prensa industrial',
        description: '600 kg en prensa de piernas.',
        emoji: 'üü©',
        category: 'intensidad',
        exerciseMatch: ['prensa', 'leg press'],
        unlockCondition: (stats) => stats.legPressPR >= 600,
    },
    {
        id: 'legpress_700kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Carga de cami√≥n',
        description: '700 kg en prensa de piernas.',
        emoji: 'üöõ',
        category: 'intensidad',
        exerciseMatch: ['prensa', 'leg press'],
        unlockCondition: (stats) => stats.legPressPR >= 700,
    },
    {
        id: 'legpress_800kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Bestia de prensa',
        description: '800 kg en prensa de piernas.',
        emoji: 'ü¶ç',
        category: 'intensidad',
        exerciseMatch: ['prensa', 'leg press'],
        unlockCondition: (stats) => stats.legPressPR >= 800,
    },
    {
        id: 'legpress_20reps_heavy',
        horizon: 'BLOCK',
        difficulty: 4,
        name: 'Widowmaker de pierna',
        description: 'Serie de 20 reps con peso alto.',
        emoji: 'üíÄ',
        category: 'intensidad',
        exerciseMatch: ['prensa', 'leg press'],
        unlockCondition: (stats) => stats.legPressWidowmaker,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üî• INTENSIDAD - PRs (Militar)
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'ohp_40kg',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Hombros serios',
        description: '1RM 40 kg en press militar.',
        emoji: 'üÜô',
        category: 'intensidad',
        exerciseMatch: ['press militar', 'overhead press', 'ohp'],
        unlockCondition: (stats) => stats.ohpPR >= 40,
    },
    {
        id: 'ohp_50kg',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Medio quintal arriba',
        description: '1RM 50 kg en press militar.',
        emoji: 'üß†',
        category: 'intensidad',
        exerciseMatch: ['press militar', 'overhead press', 'ohp'],
        unlockCondition: (stats) => stats.ohpPR >= 50,
    },
    {
        id: 'ohp_60kg',
        horizon: 'BLOCK',
        difficulty: 3,
        name: '60 al cielo',
        description: '1RM 60 kg en press militar.',
        emoji: '‚òÅÔ∏è',
        category: 'intensidad',
        exerciseMatch: ['press militar', 'overhead press', 'ohp'],
        unlockCondition: (stats) => stats.ohpPR >= 60,
    },
    {
        id: 'ohp_70kg',
        horizon: 'LIFETIME',
        difficulty: 4,
        name: 'Hombros de estatua',
        description: '1RM 70 kg en press militar.',
        emoji: 'üóø',
        category: 'intensidad',
        exerciseMatch: ['press militar', 'overhead press', 'ohp'],
        unlockCondition: (stats) => stats.ohpPR >= 70,
    },
    {
        id: 'ohp_80kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Overhead hero',
        description: '1RM 80 kg en press militar.',
        emoji: 'ü¶∏',
        category: 'intensidad',
        exerciseMatch: ['press militar', 'overhead press', 'ohp'],
        unlockCondition: (stats) => stats.ohpPR >= 80,
    },
    {
        id: 'ohp_90kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Casi el quintal',
        description: '1RM 90 kg en press militar.',
        emoji: 'üí•',
        category: 'intensidad',
        exerciseMatch: ['press militar', 'overhead press', 'ohp'],
        unlockCondition: (stats) => stats.ohpPR >= 90,
    },
    {
        id: 'ohp_0_75x_bw',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Militar 0.75x tu peso',
        description: '1RM ‚â• 0.75 √ó peso corporal.',
        emoji: '‚öñÔ∏è',
        category: 'intensidad',
        exerciseMatch: ['press militar', 'overhead press', 'ohp'],
        unlockCondition: (stats) => stats.ohpPR > 0 && stats.bodyWeight > 0 && stats.ohpPR >= stats.bodyWeight * 0.75,
    },
    {
        id: 'ohp_1x_bw',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Tu peso por encima',
        description: '1RM ‚â• 1 √ó peso corporal en press militar.',
        emoji: '‚ö°',
        category: 'intensidad',
        exerciseMatch: ['press militar', 'overhead press', 'ohp'],
        unlockCondition: (stats) => stats.ohpPR > 0 && stats.bodyWeight > 0 && stats.ohpPR >= stats.bodyWeight,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üìä VOLUMEN ACUMULADO (LIFETIME FIX)
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'lifetime_100k_kg',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Cien mil kilos',
        description: 'Volumen hist√≥rico ‚â• 100.000 kg.',
        emoji: 'üì¶',
        category: 'volumen',
        targetValue: 100000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 100000,
    },
    {
        id: 'lifetime_250k_kg',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Cuarto de mill√≥n',
        description: 'Volumen hist√≥rico ‚â• 250.000 kg.',
        emoji: '‚öôÔ∏è',
        category: 'volumen',
        targetValue: 250000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 250000,
    },
    {
        id: 'lifetime_500k_kg',
        horizon: 'BLOCK',
        difficulty: 4,
        name: 'Medio mill√≥n de hierro',
        description: 'Volumen hist√≥rico ‚â• 500.000 kg.',
        emoji: 'üî©',
        category: 'volumen',
        targetValue: 500000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 500000,
    },
    {
        id: 'lifetime_1m_kg',
        horizon: 'LIFETIME', // FIXED: 1 Millon ya es serio
        difficulty: 3,
        name: 'Un mill√≥n de kilos',
        description: 'Volumen hist√≥rico ‚â• 1.000.000 kg.',
        emoji: 'üíé',
        category: 'volumen',
        targetValue: 1000000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 1000000,
    },
    {
        id: 'lifetime_2m_kg',
        horizon: 'LIFETIME',
        difficulty: 3,
        name: 'Dos millones de guerra',
        description: 'Volumen hist√≥rico ‚â• 2.000.000 kg.',
        emoji: '‚öîÔ∏è',
        category: 'volumen',
        targetValue: 2000000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 2000000,
    },
    {
        id: 'lifetime_3m_kg',
        horizon: 'LIFETIME',
        difficulty: 4,
        name: 'Tres millones de carga',
        description: 'Volumen hist√≥rico ‚â• 3.000.000 kg.',
        emoji: 'üöõ',
        category: 'volumen',
        targetValue: 3000000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 3000000,
    },
    {
        id: 'lifetime_5m_kg',
        horizon: 'LIFETIME',
        difficulty: 4,
        name: 'Cinco millones de locura',
        description: 'Volumen hist√≥rico ‚â• 5.000.000 kg.',
        emoji: 'ü§Ø',
        category: 'volumen',
        targetValue: 5000000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 5000000,
    },
    {
        id: 'lifetime_7_5m_kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Siete coma cinco industrial',
        description: 'Volumen hist√≥rico ‚â• 7.500.000 kg.',
        emoji: 'üè≠',
        category: 'volumen',
        targetValue: 7500000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 7500000,
    },
    {
        id: 'lifetime_10m_kg',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Diez millones de historia',
        description: 'Volumen hist√≥rico ‚â• 10.000.000 kg.',
        emoji: 'üè∞',
        category: 'volumen',
        targetValue: 10000000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 10000000,
    },
    {
        id: 'lifetime_legs_3m_kg',
        horizon: 'LIFETIME',
        difficulty: 4,
        name: 'Leg Day eterno',
        description: 'Solo pierna ‚â• 3.000.000 kg de volumen acumulado.',
        emoji: 'üçó',
        category: 'volumen',
        targetValue: 3000000,
        progressKey: 'accumulatedLegVolumeKg',
        unlockCondition: (stats) => stats.accumulatedLegVolumeKg >= 3000000,
    },
    {
        id: 'lifetime_push_2m_kg',
        horizon: 'LIFETIME',
        difficulty: 4,
        name: 'Empuje interestelar',
        description: 'Solo ejercicios de empuje ‚â• 2.000.000 kg.',
        emoji: 'üöÄ',
        category: 'volumen',
        targetValue: 2000000,
        progressKey: 'accumulatedPushVolumeKg',
        unlockCondition: (stats) => stats.accumulatedPushVolumeKg >= 2000000,
    },
    {
        id: 'lifetime_pull_2m_kg',
        horizon: 'LIFETIME',
        difficulty: 4,
        name: 'Tir√≥n gravitacional',
        description: 'Solo tir√≥n ‚â• 2.000.000 kg.',
        emoji: 'üß≤',
        category: 'volumen',
        targetValue: 2000000,
        progressKey: 'accumulatedPullVolumeKg',
        unlockCondition: (stats) => stats.accumulatedPullVolumeKg >= 2000000,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // üî• INTENSIDAD - Big Three
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'bigthree_300',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Big Three 300',
        description: 'Banca + Sentadilla + Peso muerto ‚â• 300 kg.',
        emoji: 'üüß',
        category: 'intensidad',
        targetValue: 300,
        progressKey: 'bigThreeTotal',
        unlockCondition: (stats) => stats.bigThreeTotal >= 300,
    },
    {
        id: 'bigthree_400',
        horizon: 'BLOCK',
        difficulty: 4,
        name: 'Big Three 400',
        description: 'Suma de PRs ‚â• 400 kg.',
        emoji: '‚öôÔ∏è',
        category: 'intensidad',
        targetValue: 400,
        progressKey: 'bigThreeTotal',
        unlockCondition: (stats) => stats.bigThreeTotal >= 400,
    },
    {
        id: 'bigthree_500',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Big Three 500',
        description: 'Suma de PRs ‚â• 500 kg.',
        emoji: 'üèõÔ∏è',
        category: 'intensidad',
        targetValue: 500,
        progressKey: 'bigThreeTotal',
        unlockCondition: (stats) => stats.bigThreeTotal >= 500,
    },
    {
        id: 'bigthree_600',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Big Three 600',
        description: 'Suma de PRs ‚â• 600 kg.',
        emoji: 'ü¶ç',
        category: 'intensidad',
        targetValue: 600,
        progressKey: 'bigThreeTotal',
        unlockCondition: (stats) => stats.bigThreeTotal >= 600,
    },
    {
        id: 'powerpack_push',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Pack de empuje',
        description: 'PR decente a la vez en banca, militar y fondos.',
        emoji: 'üí£',
        category: 'intensidad',
        unlockCondition: (stats) => stats.pushPackComplete,
    },
    {
        id: 'powerpack_leg',
        horizon: 'BLOCK',
        difficulty: 3,
        name: 'Pack de pierna',
        description: 'Sentadilla + Prensa por encima de ciertos umbrales.',
        emoji: 'üöú',
        category: 'intensidad',
        unlockCondition: (stats) => stats.legPackComplete,
    },
    {
        id: 'balance_upper_lower_lifetime',
        horizon: 'LIFETIME',
        difficulty: 3,
        name: 'Equilibrio estructural',
        description: 'Volumen de tren superior e inferior en ratio sano.',
        emoji: '‚öñÔ∏è',
        category: 'volumen',
        unlockCondition: (stats) => stats.lifetimeUpperLowerBalance,
    },
    {
        id: 'pr_sessions_50',
        horizon: 'LIFETIME',
        difficulty: 3,
        name: '50 PR sessions',
        description: 'Has tenido 50 sesiones distintas con alg√∫n PR registrado.',
        emoji: 'üéØ',
        category: 'intensidad',
        targetValue: 50,
        progressKey: 'prSessions',
        unlockCondition: (stats) => stats.prSessions >= 50,
    },

    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    // ü•ö EASTER EGGS - Lore C√≥smico (LIFETIME FIX)
    // ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    {
        id: 'car_lift_100',
        horizon: 'BLOCK',
        difficulty: 2,
        name: 'Cien coches metaf√≥ricos',
        description: 'Volumen acumulado equivalente a levantar 100 coches.',
        emoji: 'üöó',
        category: 'volumen',
        targetValue: 150000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 150000,
    },
    {
        id: 'car_lift_1000',
        horizon: 'LIFETIME', // FIXED: 1.5M Kg es Lifetime
        difficulty: 3,
        name: 'Parking entero',
        description: 'Volumen equivalente a 1.000 coches.',
        emoji: 'üÖøÔ∏è',
        category: 'volumen',
        targetValue: 1500000,
        progressKey: 'accumulatedVolumeKg',
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 1500000,
    },
    {
        id: 'rocket_launch',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Energ√≠a de lanzamiento',
        description: 'Volumen de por vida nivel cohete (10M kg).',
        emoji: 'üåü',
        category: 'volumen',
        targetValue: 10000000,
        progressKey: 'accumulatedVolumeKg',
        isHidden: true,
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 10000000,
    },
    {
        id: 'moon_trip',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Ida a la Luna',
        description: 'Volumen 20M kg.',
        emoji: 'üåï',
        category: 'volumen',
        targetValue: 20000000,
        progressKey: 'accumulatedVolumeKg',
        isHidden: true,
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 20000000,
    },
    {
        id: 'everest_climb',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Everest de hierro',
        description: 'Volumen acumulado masivo (15M kg).',
        emoji: 'üèîÔ∏è',
        category: 'volumen',
        targetValue: 15000000,
        progressKey: 'accumulatedVolumeKg',
        isHidden: true,
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 15000000,
    },
    {
        id: 'ocean_deep',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Oc√©ano de kilos',
        description: 'Logro legendario (25M kg).',
        emoji: 'üåä',
        category: 'volumen',
        targetValue: 25000000,
        progressKey: 'accumulatedVolumeKg',
        isHidden: true,
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 25000000,
    },
    {
        id: 'gravity_breaker',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Rompedor de gravedad',
        description: 'Volumen alto + Fuerza alta.',
        emoji: 'üåå',
        category: 'intensidad',
        isHidden: true,
        unlockCondition: (stats) => stats.accumulatedVolumeKg >= 5000000 && stats.bigThreeTotal >= 400,
    },
    {
        id: 'anti_entropy',
        horizon: 'LIFETIME',
        difficulty: 5,
        name: 'Anti-entrop√≠a',
        description: 'A√±os entrenando sin parar de progresar.',
        emoji: '‚ôæÔ∏è',
        category: 'constancia',
        isHidden: true,
        unlockCondition: (stats) => stats.yearsTraining >= 2 && stats.progressingConsistently,
    },
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 4. INYECCI√ìN AUTOM√ÅTICA DE PUNTOS Y EXPORTACI√ìN
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

export const ACHIEVEMENTS = ACHIEVEMENTS_RAW.map(achievement => ({
    ...achievement,
    // Aqu√≠ es donde sucede la magia: Puntos calculados matem√°ticamente
    points: calculatePoints(achievement.horizon, achievement.difficulty)
}));

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// 5. HELPERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

export const getAchievementById = (id) => ACHIEVEMENTS.find(a => a.id === id);

export const getAchievementsByCategory = (category) =>
    ACHIEVEMENTS.filter(a => a.category === category);

export const countAchievementsByCategory = () => {
    const counts = {};
    Object.keys(ACHIEVEMENT_CATEGORIES).forEach(cat => {
        counts[cat] = ACHIEVEMENTS.filter(a => a.category === cat).length;
    });
    return counts;
};

export const TOTAL_ACHIEVEMENTS = ACHIEVEMENTS.length;

export default ACHIEVEMENTS;